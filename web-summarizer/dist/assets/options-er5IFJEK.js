import"./modulepreload-polyfill-B5Qt9EMX.js";function o(t){return document.getElementById(t)}const r=o("provider"),u=o("openai-section"),l=o("anthropic-section"),p=o("custom-section"),f=o("saveBtn"),d=o("successMessage");function h(t){!u||!l||!p||(u.classList.remove("active"),l.classList.remove("active"),p.classList.remove("active"),t==="openai"?u.classList.add("active"):t==="anthropic"?l.classList.add("active"):t==="custom"&&p.classList.add("active"))}function y(){chrome.storage.local.get(["provider","openaiKey","anthropicKey","customKey","customBaseURL","openaiModel","anthropicModel","customModel"],t=>{if(chrome.runtime.lastError){console.error("Failed to load config:",chrome.runtime.lastError);return}const e=t;r&&e.provider&&(r.value=e.provider,h(e.provider));const i=o("openaiKey"),n=o("openaiModel");e.openaiKey&&i&&(i.value=e.openaiKey),e.openaiModel&&n&&(n.value=e.openaiModel);const a=o("anthropicKey"),s=o("anthropicModel");e.anthropicKey&&a&&(a.value=e.anthropicKey),e.anthropicModel&&s&&(s.value=e.anthropicModel);const c=o("customBaseURL"),m=o("customKey"),v=o("customModel");e.customBaseURL&&c&&(c.value=e.customBaseURL),e.customKey&&m&&(m.value=e.customKey),e.customModel&&v&&(v.value=e.customModel)})}function K(){if(!r)return;const t=r.value,e=o("openaiModel"),i=o("anthropicModel"),n=o("customBaseURL"),a=o("customModel"),s={provider:t,openaiModel:(e==null?void 0:e.value)||"gpt-3.5-turbo",anthropicModel:(i==null?void 0:i.value)||"claude-3-haiku-20240307",customBaseURL:(n==null?void 0:n.value)||"",customModel:(a==null?void 0:a.value)||"gpt-3.5-turbo"};if(t==="openai"){const c=o("openaiKey");c&&(s.openaiKey=c.value)}else if(t==="anthropic"){const c=o("anthropicKey");c&&(s.anthropicKey=c.value)}else if(t==="custom"){const c=o("customKey");c&&(s.customKey=c.value)}chrome.storage.local.set(s,()=>{if(chrome.runtime.lastError){console.error("Failed to save config:",chrome.runtime.lastError);return}d&&(d.classList.add("show"),setTimeout(()=>{d.classList.remove("show")},2e3))})}r&&r.addEventListener("change",t=>{h(t.target.value)});f&&f.addEventListener("click",K);y();

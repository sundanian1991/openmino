# 2026-02-18

## Agent Teams 研究

**背景**：年老师问"互相之间是有通信机制吗。我怎么看起来还是之前的子代理呢"

**发现**：
- 我之前演示的"Agent Teams"实际用的是 Task 工具（subagent 机制）
- **真正的 Agent Teams**：teammates 可互相通信、有 shared task list、可自协调
- **关键区别**：
  | Subagents | Agent Teams |
  |-----------|-------------|
  | 只向主 agent 报告 | Teammates 互相直接通信 |
  | 主 agent 管理 | Shared task list |
  | Token 成本低 | ~5x tokens |

**官方文档**：code.claude.com/docs/en/agent-teams

---

## 工具限制意识

**触发**：年老师问"如果webReader也是有次数的，是否有别的可以替代工具"

**问题**：webReader 有 100次/月限制，我没有主动思考替代方案

**解决方案**：

| 优先级 | 工具 | 限制 |
|--------|------|------|
| 1️⃣ | **tavily_extract/search/crawl** | API 配额（通常更大） |
| 2️⃣ | **curl + html2text** | 无限制 |
| 3️⃣ | **webReader** | 100次/月 |

**产出**：
- `scripts/fetch-web-content.sh` — 智能抓取脚本
- 更新 `05-self-review.md` 记录教训
- 更新 `04-MEMORY.md` 添加工具优先级策略

**核心教训**：工具不是无限的，要有成本意识和优先级策略。

---

## 年老师的洞察

> "直接基于已搜索到的信息，演示正确的Agent Teams用法。并且需要思考后续如何有不受web reader限制的工具。"

两个要求：
1. 基于已有信息行动（不继续等）
2. 长期思考（不依赖有限制的工具）

这是"**工具意识优先**"的体现 — 不只是用工具，要思考工具的限制和替代。

---

## 技术细节

**Agent Teams 正确用法**（自然语言格式）：

```
请创建一个 agent team 来 [任务描述]。

团队结构：
1. Team Lead：统筹协调
2. Teammate A：[具体职责]
3. Teammate B：[具体职责]

要求：
- teammates 并行分析
- 可互相质询和补充
- 最后由 Team Lead 汇总
```

**注意**：我当前环境可能未完全实现 Agent Teams 的 teammate 间直接通信功能。实际可用的是 Task 工具（subagent 机制）。

---

*文件创建时间：2026-02-18*

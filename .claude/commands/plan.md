---
name: "plan"
description: "重述需求、评估风险、创建分步实施计划。等待用户确认后再触碰代码"
argument-hint: <需求描述>
---

# Plan 指令

调用 **planner** 代理在写代码前创建完整的实施计划。

## 功能

1. **重述需求** - 澄清要构建什么
2. **识别风险** - 发现潜在问题和阻碍
3. **创建步骤计划** - 将实施拆分为多个阶段
4. **等待确认** - 必须收到用户批准才能继续

## 使用场景

用 `/plan` 当：
- 开始新功能
- 做重大架构调整
- 复杂重构
- 多个文件/组件受影响
- 需求不清晰

## 工作流程

planner 代理会：
1. **分析请求**，用清晰的语言重述需求
2. **拆分为阶段**，每阶段有具体可执行的步骤
3. **识别依赖**，组件之间的关系
4. **评估风险**和潜在阻碍
5. **预估复杂度**（高/中/低）
6. **展示计划**，等待你的明确确认

## 重要提示

**关键**：planner 代理在收到你明确确认（"yes"、"proceed"等）前**不会**写任何代码。

如需修改：
- "modify: [你的修改]"
- "different approach: [替代方案]"
- "跳过阶段2，先做阶段3"

## 与其他指令配合

计划完成后：
- `/tdd` - 测试驱动开发实现
- `/code-review` - 完成后代码审查
